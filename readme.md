# Blender to R3F Scene Viewer

This project allows you to export your **Blender scene** (meshes, lights, cameras) as multiple `.glb` files and view them in a **React Three Fiber** (R3F) app â€” with **live reload** support.


## âœ¨ Features

- Export each mesh from Blender as its own `.glb` file.
- Auto-generate a `scene.json` manifest for dynamic loading.
- Live reload the R3F viewer when Blender exports.
- OrbitControls and shadows enabled.
- Cameras and lights generated by Blender (optional).


## ğŸ“ Project Structure

Hereâ€™s a complete `README.md` for your Blender-to-R3F project, explaining:

* Purpose
* Folder structure
* Setup
* Workflow
* Commands


```

project-root/
â”‚
â”œâ”€â”€ blender-plugin/           # Blender addon to export meshes + JSON + trigger reload
â”‚   â””â”€â”€ **init**.py
â”‚
â”œâ”€â”€ server/                   # Express server with /reload and /events (SSE)
â”‚   â””â”€â”€ server.ts
â”‚
â”œâ”€â”€ viewer/                   # React Three Fiber app
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ exported\_gltfs/   # All exported .glb files from Blender
â”‚   â”‚   â”‚   â”œâ”€â”€ mesh.glb
â”‚   â”‚   â”‚   â”œâ”€â”€ scene.json    # Manifest used by R3F to dynamically load models
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â””â”€â”€ package.json
â”‚â”€â”€ .gitignore
â””â”€â”€ README.md

````

---

## âš™ï¸ Setup

### 1. ğŸ§© Install Blender Addon

- Open Blender â†’ Preferences â†’ Add-ons â†’ Install
- Select `blender-plugin/__init__.py`
- Enable: âœ… â€œThree.js Exporterâ€

### 2. ğŸ§ª Run the Viewer

```bash
cd viewer
npm install
npm run dev
````

The viewer runs at: [http://localhost:4001](http://localhost:4001)

### 3. ğŸŒ Start the Reload Server

```bash
cd server
npx ts-node server.ts
```

Runs on [http://localhost:4000](http://localhost:4000)

---

## ğŸš€ Usage

1. In Blender, open your `.blend` file.
2. Go to the **Sidebar â†’ Three.js Tab**.
3. Click **â€œGenerate Three.js Codeâ€**:

   * Exports `.glb` files into `viewer/public/exported_gltfs/`
   * Writes a `scene.json` manifest
   * Optionally generates a `three.js` file for cameras/lights
   * Triggers `/reload` to update viewer
4. Your R3F viewer refreshes automatically and shows the scene.

---

## ğŸ” Live Reloading

Handled by:

* **Blender plugin** calling `GET http://localhost:4000/reload`
* **Viewer app** listening via `EventSource("/events")` and `window.location.reload()` on trigger

No need to manually refresh the browser.

---

## ğŸ§° Available Scripts

From `viewer/`:

```bash
npm run dev         # Start Vite + R3F dev server
npm run build       # Production build
```

From `server/`:

```bash
npx ts-node server.ts    # Start hot reload server
```

---

## ğŸ§¼ Future Improvements

* Support exporting animations
* Add material customization UI
* Optionally bundle everything into a `.zip` or `.scene.json5`
* Blender export logs or error diagnostics

---

## ğŸ“œ License

MIT â€” use, modify, share freely.
