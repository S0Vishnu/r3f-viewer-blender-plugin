# Blender to R3F Scene Viewer

This project allows you to export your **Blender scene** (meshes, lights, cameras) as multiple `.glb` files and view them in a **React Three Fiber** (R3F) app — with **live reload** support.


## ✨ Features

- Export each mesh from Blender as its own `.glb` file.
- Auto-generate a `scene.json` manifest for dynamic loading.
- Live reload the R3F viewer when Blender exports.
- OrbitControls and shadows enabled.
- Cameras and lights generated by Blender (optional).


## 📁 Project Structure

Here’s a complete `README.md` for your Blender-to-R3F project, explaining:

* Purpose
* Folder structure
* Setup
* Workflow
* Commands


```

project-root/
│
├── blender-plugin/           # Blender addon to export meshes + JSON + trigger reload
│   └── **init**.py
│
├── server/                   # Express server with /reload and /events (SSE)
│   └── server.ts
│
├── viewer/                   # React Three Fiber app
│   ├── public/
│   │   ├── exported\_gltfs/   # All exported .glb files from Blender
│   │   │   ├── mesh.glb
│   │   │   ├── scene.json    # Manifest used by R3F to dynamically load models
│   │   └── index.html
│   ├── src/
│   │   ├── App.tsx
│   │   └── main.tsx
│   └── package.json
│── .gitignore
└── README.md

````

---

## ⚙️ Setup

### 1. 🧩 Install Blender Addon

- Open Blender → Preferences → Add-ons → Install
- Select `blender-plugin/__init__.py`
- Enable: ✅ “Three.js Exporter”

### 2. 🧪 Run the Viewer

```bash
cd viewer
npm install
npm run dev
````

The viewer runs at: [http://localhost:4001](http://localhost:4001)

### 3. 🌐 Start the Reload Server

```bash
cd server
npx ts-node server.ts
```

Runs on [http://localhost:4000](http://localhost:4000)

---

## 🚀 Usage

1. In Blender, open your `.blend` file.
2. Go to the **Sidebar → Three.js Tab**.
3. Click **“Generate Three.js Code”**:

   * Exports `.glb` files into `viewer/public/exported_gltfs/`
   * Writes a `scene.json` manifest
   * Optionally generates a `three.js` file for cameras/lights
   * Triggers `/reload` to update viewer
4. Your R3F viewer refreshes automatically and shows the scene.

---

## 🔁 Live Reloading

Handled by:

* **Blender plugin** calling `GET http://localhost:4000/reload`
* **Viewer app** listening via `EventSource("/events")` and `window.location.reload()` on trigger

No need to manually refresh the browser.

---

## 🧰 Available Scripts

From `viewer/`:

```bash
npm run dev         # Start Vite + R3F dev server
npm run build       # Production build
```

From `server/`:

```bash
npx ts-node server.ts    # Start hot reload server
```

---

## 🧼 Future Improvements

* Support exporting animations
* Add material customization UI
* Optionally bundle everything into a `.zip` or `.scene.json5`
* Blender export logs or error diagnostics

---

## 📜 License

MIT — use, modify, share freely.
